<!doctype html>
<html class="no-js" lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Routing and Navigation for React.js Applications</title>
    <meta name="description" content="Routing and navigation solution for single-page web applications">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/react-routing/css/main.min.css">
  </head>
  <body>
    <!--[if lt IE 8]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <div class="wrapper">
      <div class="header header--full">
        <div class="container">
          <h1 class="header-title">React Routing</h1>
          <p class="header-desc">Routing and navigation solution for React.js applications</p>
        </div>
      </div>
      <div class="container">
        <ol class="nav">
          <li><a href="/react-routing/">Home</a></li>
          <li><a href="/react-routing/getting-started">Getting Started</a></li>
          <li><a href="#how-to-install">How to Install</a></li>
          <li><a href="#basic-routing">Basic Routing</a></li>
          <li><a href="#async-routes">Async Routes</a></li>
          <li>Nested Routes</li>
          <li>Integration with Flux</li>
          <li>Server-side Rendering</li>
        </ol>
        <div class="content">
          <a class="github" target="_blank" href="https://github.com/kriasoft/react-routing/tree/master/docs/index.md">Edit on GitHub</a>
          <h2 id="how-to-install">How to Install</h2>
<pre><code class="lang-sh">$ npm <span class="hljs-operator"><span class="hljs-keyword">install</span> react-routing <span class="hljs-comment">--save</span></span>
</code></pre>
<h2 id="basic-routing">Basic Routing</h2>
<pre><code class="lang-js"><span class="hljs-comment">// router.js</span>
<span class="hljs-keyword">import</span> { Router } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-routing'</span>;
<span class="hljs-keyword">import</span> Layout <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Layout'</span>;
<span class="hljs-keyword">import</span> HomePage <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/HomePage'</span>;
<span class="hljs-keyword">import</span> AboutPage <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/AboutPage'</span>;

<span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> Router();

router.use(<span class="hljs-string">'/'</span>, <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">Layout</span> /&gt;</span>)</span>;
router.route(<span class="hljs-string">'/'</span>, <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">HomePage</span> /&gt;</span>)</span>;
router.route(<span class="hljs-string">'/about'</span>, <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">AboutPage</span> /&gt;</span>)</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// app.js</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router.js'</span>;
<span class="hljs-keyword">import</span> NotFoundPage <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/NotFoundPage'</span>;
<span class="hljs-keyword">import</span> ErrorPage <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/ErrorPage'</span>;

<span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'app'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> path = <span class="hljs-built_in">window</span>.location.path.substr(<span class="hljs-number">1</span>) || <span class="hljs-string">'/'</span>;
    <span class="hljs-keyword">const</span> action = router.match(path);
    <span class="hljs-keyword">const</span> component = action ? <span class="hljs-keyword">await</span> action() || <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">NotFoundPage</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">{path}</span> /&gt;</span>;</span>
    React.render(component, container);
  } <span class="hljs-keyword">catch</span> (err) {
    React.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">ErrorPage</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">{path}</span> <span class="hljs-attribute">error</span>=<span class="hljs-value">{err}</span> /&gt;</span>, container);
  }
}

window.addEventListener('hashchange', () =&gt; render());
render();</span>
</code></pre>
<h2 id="async-routes">Async Routes</h2>
<pre><code class="lang-js"><span class="hljs-comment">// router.js</span>
<span class="hljs-keyword">import</span> { Router } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-routing'</span>;
<span class="hljs-keyword">import</span> http <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/http'</span>;
<span class="hljs-keyword">import</span> Layout <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Layout'</span>;
<span class="hljs-keyword">import</span> ProductListing <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/ProductListing'</span>;
<span class="hljs-keyword">import</span> ProductInfo <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/ProductInfo'</span>;

<span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> Router();

router.use(<span class="hljs-string">'/'</span>, <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">Layout</span> /&gt;</span>)</span>;
router.route(<span class="hljs-string">'/products'</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> http.get(<span class="hljs-string">'/api/products'</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">ProductListing</span> {<span class="hljs-attribute">...data</span>} /&gt;</span>;</span>
});
router.route(<span class="hljs-string">'/about'</span>, <span class="hljs-keyword">async</span> (ctx, id) =&gt; {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> http.get(<span class="hljs-string">`/api/products/<span class="hljs-subst">${id}</span>`</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">ProductInfo</span> {<span class="hljs-attribute">...data</span>} /&gt;</span>;</span>
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router;
</code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// app.js</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router.js'</span>;
<span class="hljs-keyword">import</span> NotFoundPage <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/NotFoundPage'</span>;
<span class="hljs-keyword">import</span> ErrorPage <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/ErrorPage'</span>;

<span class="hljs-keyword">const</span> container = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'app'</span>);

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> path = <span class="hljs-built_in">window</span>.location.path.substr(<span class="hljs-number">1</span>) || <span class="hljs-string">'/'</span>;
    <span class="hljs-keyword">const</span> action = router.match(path);
    <span class="hljs-keyword">const</span> component = action ? <span class="hljs-keyword">await</span> action() || <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">NotFoundPage</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">{path}</span> /&gt;</span>;</span>
    React.render(component, container);
  } <span class="hljs-keyword">catch</span> (err) {
    React.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">ErrorPage</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">{path}</span> <span class="hljs-attribute">error</span>=<span class="hljs-value">{err}</span> /&gt;</span>, container);
  }
}

window.addEventListener('hashchange', () =&gt; render());
render();</span>
</code></pre>

        </div>
      </div>
    </div>
    <a href="https://github.com/kriasoft/react-routing">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png">
    </a>
    <div class="footer">
      <div class="container">
        <p class="copy">&copy; 2015 Kriasoft</p>
      </div>
    </div>
    <script src="/react-routing/js/main.min.js"></script>
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-33821884-1','auto');ga('send','pageview');
    </script>
  </body>
</html>
